<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Crystal Docs 1.9.2">
<meta name="crystal_docs.project_version" content="master">
<meta name="crystal_docs.project_name" content="raven">



<link href="../css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../js/doc.js"></script>

  <meta name="repository-name" content="raven">
  <title>Raven::Instance - raven master</title>
  <script type="text/javascript">
    CrystalDocs.base_path = "../";
  </script>
</head>
<body>

<svg class="hidden">
  <symbol id="octicon-link" viewBox="0 0 16 16">
    <path fill="currentColor" fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
  </symbol>
</svg>
<input type="checkbox" id="sidebar-btn">
<label for="sidebar-btn" id="sidebar-btn-label">
  <svg class="open" xmlns="http://www.w3.org/2000/svg" height="2em" width="2em" viewBox="0 0 512 512"><title>Open Sidebar</title><path fill="currentColor" d="M80 96v64h352V96H80zm0 112v64h352v-64H80zm0 112v64h352v-64H80z"></path></svg>
  <svg class="close" xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 512 512"><title>Close Sidebar</title><path fill="currentColor" d="m118.6 73.4-45.2 45.2L210.7 256 73.4 393.4l45.2 45.2L256 301.3l137.4 137.3 45.2-45.2L301.3 256l137.3-137.4-45.2-45.2L256 210.7Z"></path></svg>
</label>
<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="project-summary">
      <h1 class="project-name">
        <a href="../index.html">
          raven
        </a>
      </h1>

      <span class="project-version">
        master
      </span>
    </div>
  </div>

  <div class="search-results hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class=" " data-id="raven/Exception" data-name="exception">
      <a href="../Exception.html">Exception</a>
      
    </li>
  
  <li class="parent open current" data-id="raven/Raven" data-name="raven">
      <a href="../Raven.html">Raven</a>
      
        <ul>
  
  <li class="parent " data-id="raven/Raven/Breadcrumb" data-name="raven::breadcrumb">
      <a href="../Raven/Breadcrumb.html">Breadcrumb</a>
      
        <ul>
  
  <li class=" " data-id="raven/Raven/Breadcrumb/Severity" data-name="raven::breadcrumb::severity">
      <a href="../Raven/Breadcrumb/Severity.html">Severity</a>
      
    </li>
  
  <li class=" " data-id="raven/Raven/Breadcrumb/Type" data-name="raven::breadcrumb::type">
      <a href="../Raven/Breadcrumb/Type.html">Type</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="raven/Raven/BreadcrumbBuffer" data-name="raven::breadcrumbbuffer">
      <a href="../Raven/BreadcrumbBuffer.html">BreadcrumbBuffer</a>
      
    </li>
  
  <li class="parent " data-id="raven/Raven/Client" data-name="raven::client">
      <a href="../Raven/Client.html">Client</a>
      
        <ul>
  
  <li class="parent " data-id="raven/Raven/Client/State" data-name="raven::client::state">
      <a href="../Raven/Client/State.html">State</a>
      
        <ul>
  
  <li class=" " data-id="raven/Raven/Client/State/Status" data-name="raven::client::state::status">
      <a href="../Raven/Client/State/Status.html">Status</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="raven/Raven/Configuration" data-name="raven::configuration">
      <a href="../Raven/Configuration.html">Configuration</a>
      
        <ul>
  
  <li class=" " data-id="raven/Raven/Configuration/Encoding" data-name="raven::configuration::encoding">
      <a href="../Raven/Configuration/Encoding.html">Encoding</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="raven/Raven/Context" data-name="raven::context">
      <a href="../Raven/Context.html">Context</a>
      
    </li>
  
  <li class=" " data-id="raven/Raven/Delegators" data-name="raven::delegators">
      <a href="../Raven/Delegators.html">Delegators</a>
      
    </li>
  
  <li class=" " data-id="raven/Raven/Error" data-name="raven::error">
      <a href="../Raven/Error.html">Error</a>
      
    </li>
  
  <li class="parent " data-id="raven/Raven/Event" data-name="raven::event">
      <a href="../Raven/Event.html">Event</a>
      
        <ul>
  
  <li class=" " data-id="raven/Raven/Event/HashType" data-name="raven::event::hashtype">
      <a href="../Raven/Event/HashType.html">HashType</a>
      
    </li>
  
  <li class=" " data-id="raven/Raven/Event/Hint" data-name="raven::event::hint">
      <a href="../Raven/Event/Hint.html">Hint</a>
      
    </li>
  
  <li class=" " data-id="raven/Raven/Event/Severity" data-name="raven::event::severity">
      <a href="../Raven/Event/Severity.html">Severity</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" current" data-id="raven/Raven/Instance" data-name="raven::instance">
      <a href="../Raven/Instance.html">Instance</a>
      
    </li>
  
  <li class="parent " data-id="raven/Raven/Interface" data-name="raven::interface">
      <a href="../Raven/Interface.html">Interface</a>
      
        <ul>
  
  <li class=" " data-id="raven/Raven/Interface/Exception" data-name="raven::interface::exception">
      <a href="../Raven/Interface/Exception.html">Exception</a>
      
    </li>
  
  <li class=" " data-id="raven/Raven/Interface/HTTP" data-name="raven::interface::http">
      <a href="../Raven/Interface/HTTP.html">HTTP</a>
      
    </li>
  
  <li class=" " data-id="raven/Raven/Interface/Message" data-name="raven::interface::message">
      <a href="../Raven/Interface/Message.html">Message</a>
      
    </li>
  
  <li class=" " data-id="raven/Raven/Interface/SingleException" data-name="raven::interface::singleexception">
      <a href="../Raven/Interface/SingleException.html">SingleException</a>
      
    </li>
  
  <li class="parent " data-id="raven/Raven/Interface/Stacktrace" data-name="raven::interface::stacktrace">
      <a href="../Raven/Interface/Stacktrace.html">Stacktrace</a>
      
        <ul>
  
  <li class=" " data-id="raven/Raven/Interface/Stacktrace/Frame" data-name="raven::interface::stacktrace::frame">
      <a href="../Raven/Interface/Stacktrace/Frame.html">Frame</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="raven/Raven/LogBackend" data-name="raven::logbackend">
      <a href="../Raven/LogBackend.html">LogBackend</a>
      
    </li>
  
  <li class="parent " data-id="raven/Raven/Mixin" data-name="raven::mixin">
      <a href="../Raven/Mixin.html">Mixin</a>
      
        <ul>
  
  <li class=" " data-id="raven/Raven/Mixin/InitializeWith" data-name="raven::mixin::initializewith">
      <a href="../Raven/Mixin/InitializeWith.html">InitializeWith</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="raven/Raven/Processor" data-name="raven::processor">
      <a href="../Raven/Processor.html">Processor</a>
      
        <ul>
  
  <li class=" " data-id="raven/Raven/Processor/Compact" data-name="raven::processor::compact">
      <a href="../Raven/Processor/Compact.html">Compact</a>
      
    </li>
  
  <li class=" " data-id="raven/Raven/Processor/Cookies" data-name="raven::processor::cookies">
      <a href="../Raven/Processor/Cookies.html">Cookies</a>
      
    </li>
  
  <li class=" " data-id="raven/Raven/Processor/HTTPHeaders" data-name="raven::processor::httpheaders">
      <a href="../Raven/Processor/HTTPHeaders.html">HTTPHeaders</a>
      
    </li>
  
  <li class=" " data-id="raven/Raven/Processor/RemoveCircularReferences" data-name="raven::processor::removecircularreferences">
      <a href="../Raven/Processor/RemoveCircularReferences.html">RemoveCircularReferences</a>
      
    </li>
  
  <li class=" " data-id="raven/Raven/Processor/RemoveStacktrace" data-name="raven::processor::removestacktrace">
      <a href="../Raven/Processor/RemoveStacktrace.html">RemoveStacktrace</a>
      
    </li>
  
  <li class=" " data-id="raven/Raven/Processor/RequestMethodData" data-name="raven::processor::requestmethoddata">
      <a href="../Raven/Processor/RequestMethodData.html">RequestMethodData</a>
      
    </li>
  
  <li class=" " data-id="raven/Raven/Processor/SanitizeData" data-name="raven::processor::sanitizedata">
      <a href="../Raven/Processor/SanitizeData.html">SanitizeData</a>
      
    </li>
  
  <li class=" " data-id="raven/Raven/Processor/UTF8Conversion" data-name="raven::processor::utf8conversion">
      <a href="../Raven/Processor/UTF8Conversion.html">UTF8Conversion</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="raven/Raven/Transport" data-name="raven::transport">
      <a href="../Raven/Transport.html">Transport</a>
      
        <ul>
  
  <li class=" " data-id="raven/Raven/Transport/Dummy" data-name="raven::transport::dummy">
      <a href="../Raven/Transport/Dummy.html">Dummy</a>
      
    </li>
  
  <li class="parent " data-id="raven/Raven/Transport/HTTP" data-name="raven::transport::http">
      <a href="../Raven/Transport/HTTP.html">HTTP</a>
      
        <ul>
  
  <li class=" " data-id="raven/Raven/Transport/HTTP/Error" data-name="raven::transport::http::error">
      <a href="../Raven/Transport/HTTP/Error.html">Error</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1 class="type-name">

  <span class="kind">class</span> Raven::<wbr>Instance

</h1>


  <ul class="superclass-hierarchy"><li class="superclass"><a href="../Raven/Instance.html">Raven::Instance</a></li><li class="superclass">Reference</li><li class="superclass">Object</li></ul>




  <h2>
    <a id="overview" class="anchor" href="#overview">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Overview
  </h2>

  <p>A copy of Raven's base module class methods, minus some of the integration
and global hooks since it's meant to be used explicitly. Useful for
sending errors to multiple sentry projects in a large application.</p>
<pre><code class="language-crystal"><span class="k">class</span> <span class="t">Foo</span>
  <span class="k">def</span> <span class="m">initialize</span>
    @other_raven <span class="o">=</span> <span class="t">Raven</span><span class="t">::</span><span class="t">Instance</span>.new
    @other_raven.configure <span class="k">do</span> <span class="o">|</span>config<span class="o">|</span>
      config.dsn <span class="o">=</span> <span class="s">&quot;http://...&quot;</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="m">foo</span>
    <span class="c"># ...</span>


  <span class="k">rescue</span> ex
    @other_raven.capture(ex)
  <span class="k">end</span>
<span class="k">end</span></code></pre>














  <h2>
    <a id="defined-in" class="anchor" href="#defined-in">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Defined in:
  </h2>
  
    
      <a href="https://github.com/Sija/raven.cr/blob/78ab46f/src/raven/instance.cr#L24" target="_blank">
        raven/instance.cr
      </a>
    
    <br/>
  





  <h2>
    <a id="constructors" class="anchor" href="#constructors">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructors
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#new%28context%3Dnil%2Cconfig%3ANil%7CRaven%3A%3AConfiguration%3Dnil%29-class-method" class="signature"><strong>.new</strong>(context = <span class="n">nil</span>, config : Nil | Raven::Configuration = <span class="n">nil</span>)</a>
        
      </li>
    
  </ul>





  <h2>
    <a id="instance-method-summary" class="anchor" href="#instance-method-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Summary
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#annotate_exception%28ex%3AException%2C%2A%2Aoptions%29-instance-method" class="signature"><strong>#annotate_exception</strong>(ex : Exception, **options)</a>
        
          <div class="summary"><p>Provides extra context to the exception prior to it being handled by Raven.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#breadcrumbs-instance-method" class="signature"><strong>#breadcrumbs</strong></a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#capture%28klass%3AString%2Cmessage%3AString%2Cbacktrace%3AString%7CNil%3Dnil%2C%2A%2Aoptions%2C%26%29-instance-method" class="signature"><strong>#capture</strong>(klass : String, message : String, backtrace : String | Nil = <span class="n">nil</span>, **options, &)</a>
        
          <div class="summary"><p>Captures an exception with given <em>klass</em>, <em>message</em> and optional <em>backtrace</em>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#capture%28obj%3AException%7CString%2C%2A%2Aoptions%2C%26%29-instance-method" class="signature"><strong>#capture</strong>(obj : Exception | String, **options, &)</a>
        
          <div class="summary"><p>Captures given <code><a href="../Exception.html">Exception</a></code> or <code>String</code> object and yields created <code><a href="../Raven/Event.html">Raven::Event</a></code> before sending to Sentry.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#capture%28obj%3AException%7CString%2C%2A%2Aoptions%29-instance-method" class="signature"><strong>#capture</strong>(obj : Exception | String, **options)</a>
        
          <div class="summary"><p>Captures given <code><a href="../Exception.html">Exception</a></code> or <code>String</code> object.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#capture%28%2A%2Aoptions%2C%26%29-instance-method" class="signature"><strong>#capture</strong>(**options, &)</a>
        
          <div class="summary"><p>Capture and process any exceptions from the given block.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#captured_exception%3F%28ex%3AException%29-instance-method" class="signature"><strong>#captured_exception?</strong>(ex : Exception)</a>
        
          <div class="summary"><p>Returns <code>true</code> in case given <em>ex</em> was already captured, <code>false</code> otherwise.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#client%3AClient-instance-method" class="signature"><strong>#client</strong> : Client</a>
        
          <div class="summary"><p>The client object is responsible for delivering formatted data to the Sentry server.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#client%3D%28client%3AClient%29-instance-method" class="signature"><strong>#client=</strong>(client : Client)</a>
        
          <div class="summary"><p>The client object is responsible for delivering formatted data to the Sentry server.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#configuration%3AConfiguration-instance-method" class="signature"><strong>#configuration</strong> : Configuration</a>
        
          <div class="summary"><p>See <code><a href="../Raven/Configuration.html">Raven::Configuration</a></code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#configuration%3D%28configuration%3AConfiguration%29-instance-method" class="signature"><strong>#configuration=</strong>(configuration : Configuration)</a>
        
          <div class="summary"><p>See <code><a href="../Raven/Configuration.html">Raven::Configuration</a></code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#configure-instance-method" class="signature"><strong>#configure</strong></a>
        
          <div class="summary"><p>Call this method to modify defaults in your initializers.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#configure%28%26%29-instance-method" class="signature"><strong>#configure</strong>(&)</a>
        
          <div class="summary"><p>Call this method to modify defaults in your initializers.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#context-instance-method" class="signature"><strong>#context</strong></a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#extra_context%28hash%3Dnil%2C%2A%2Aoptions%29-instance-method" class="signature"><strong>#extra_context</strong>(hash = <span class="n">nil</span>, **options)</a>
        
          <div class="summary"><p>Bind extra context.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#extra_context%28hash%3Dnil%2C%2A%2Aoptions%2C%26%29-instance-method" class="signature"><strong>#extra_context</strong>(hash = <span class="n">nil</span>, **options, &)</a>
        
          <div class="summary"><p>Bind extra context.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#last_event_id-instance-method" class="signature"><strong>#last_event_id</strong></a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#report_status-instance-method" class="signature"><strong>#report_status</strong></a>
        
          <div class="summary"><p>Tell the log that the client is good to go.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#send_event%28event%2Chint%3Dnil%29-instance-method" class="signature"><strong>#send_event</strong>(event, hint = <span class="n">nil</span>)</a>
        
          <div class="summary"><p>Send an event to the configured Sentry server.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#send_feedback%28event_id%3AString%2Cdata%3AHash%29-instance-method" class="signature"><strong>#send_feedback</strong>(event_id : String, data : Hash)</a>
        
          <div class="summary"><p>Sends User Feedback to Sentry server.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#tags_context%28hash%3Dnil%2C%2A%2Aoptions%29-instance-method" class="signature"><strong>#tags_context</strong>(hash = <span class="n">nil</span>, **options)</a>
        
          <div class="summary"><p>Bind tags context.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#tags_context%28hash%3Dnil%2C%2A%2Aoptions%2C%26%29-instance-method" class="signature"><strong>#tags_context</strong>(hash = <span class="n">nil</span>, **options, &)</a>
        
          <div class="summary"><p>Bind tags context.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#user_context%28hash%3Dnil%2C%2A%2Aoptions%29-instance-method" class="signature"><strong>#user_context</strong>(hash = <span class="n">nil</span>, **options)</a>
        
          <div class="summary"><p>Bind user context.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#user_context%28hash%3Dnil%2C%2A%2Aoptions%2C%26%29-instance-method" class="signature"><strong>#user_context</strong>(hash = <span class="n">nil</span>, **options, &)</a>
        
          <div class="summary"><p>Bind user context.</p></div>
        
      </li>
    
  </ul>





<div class="methods-inherited">
  
    


    


    


  
    


    


    


  
</div>


  <h2>
    <a id="constructor-detail" class="anchor" href="#constructor-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructor Detail
  </h2>
  
    <div class="entry-detail" id="new(context=nil,config:Nil|Raven::Configuration=nil)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(context = <span class="n">nil</span>, config : Nil | <a href="../Raven/Configuration.html">Raven::Configuration</a> = <span class="n">nil</span>)

        <a class="method-permalink" href="#new%28context%3Dnil%2Cconfig%3ANil%7CRaven%3A%3AConfiguration%3Dnil%29-class-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/78ab46f/src/raven/instance.cr#L35" target="_blank">View source</a>]
        
      </div>
    </div>
  





  <h2>
    <a id="instance-method-detail" class="anchor" href="#instance-method-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Detail
  </h2>
  
    <div class="entry-detail" id="annotate_exception(ex:Exception,**options)-instance-method">
      <div class="signature">
        
        def <strong>annotate_exception</strong>(ex : <a href="../Exception.html">Exception</a>, **options)

        <a class="method-permalink" href="#annotate_exception%28ex%3AException%2C%2A%2Aoptions%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Provides extra context to the exception prior to it being handled by
Raven. An exception can have multiple annotations, which are merged
together.</p>
<p>The options (annotation) is treated the same as the <em>options</em>
parameter to <code><a href="../Raven/Instance.html#capture%28%2A%2Aoptions%2C%26%29-instance-method">#capture</a></code> or <code><a href="../Raven/Event.html#from%28ex%3AException%2C%2A%2Aoptions%29-class-method">Event.from</a></code>, and
can contain the same <code>:user</code>, <code>:tags</code>, etc. options as these methods.</p>
<p>These will be merged with the <em>options</em> parameter to
<code><a href="../Raven/Event.html#from%28ex%3AException%2C%2A%2Aoptions%29-class-method">Event.from</a></code> at the top of execution.</p>
<pre><code class="language-crystal"><span class="k">begin</span>
  raise <span class="s">&quot;Hello&quot;</span>
<span class="k">rescue</span> ex
  <span class="t">Raven</span>.annotate_exception(ex, user: {id: <span class="n">1</span>, email: <span class="s">&quot;foo@example.com&quot;</span>})
  raise ex
<span class="k">end</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/78ab46f/src/raven/instance.cr#L250" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="breadcrumbs-instance-method">
      <div class="signature">
        
        def <strong>breadcrumbs</strong>

        <a class="method-permalink" href="#breadcrumbs-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/78ab46f/src/raven/instance.cr#L326" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="capture(klass:String,message:String,backtrace:String|Nil=nil,**options,&amp;)-instance-method">
      <div class="signature">
        
        def <strong>capture</strong>(klass : String, message : String, backtrace : String | Nil = <span class="n">nil</span>, **options, &)

        <a class="method-permalink" href="#capture%28klass%3AString%2Cmessage%3AString%2Cbacktrace%3AString%7CNil%3Dnil%2C%2A%2Aoptions%2C%26%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Captures an exception with given <em>klass</em>, <em>message</em>
and optional <em>backtrace</em>.</p>
<pre><code class="language-crystal"><span class="t">Raven</span>.capture <span class="s">&quot;FooBarError&quot;</span>, <span class="s">&quot;Foo got bar!&quot;</span></code></pre>
<p><span class="flag purple">NOTE</span>  Useful in scenarios where you need to reconstruct the error
(usually along with a backtrace from external source), while
having no access to the actual Exception object.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/78ab46f/src/raven/instance.cr#L193" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="capture(obj:Exception|String,**options,&amp;)-instance-method">
      <div class="signature">
        
        def <strong>capture</strong>(obj : <a href="../Exception.html">Exception</a> | String, **options, &)

        <a class="method-permalink" href="#capture%28obj%3AException%7CString%2C%2A%2Aoptions%2C%26%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Captures given <code><a href="../Exception.html">Exception</a></code> or <code>String</code> object and yields
created <code><a href="../Raven/Event.html">Raven::Event</a></code> before sending to Sentry.</p>
<pre><code class="language-crystal"><span class="t">Raven</span>.capture(<span class="s">&quot;boo!&quot;</span>) <span class="k">do</span> <span class="o">|</span>event<span class="o">|</span>
  event.extra.merge! foo: <span class="s">&quot;bar&quot;</span>
<span class="k">end</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/78ab46f/src/raven/instance.cr#L130" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="capture(obj:Exception|String,**options)-instance-method">
      <div class="signature">
        
        def <strong>capture</strong>(obj : <a href="../Exception.html">Exception</a> | String, **options)

        <a class="method-permalink" href="#capture%28obj%3AException%7CString%2C%2A%2Aoptions%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Captures given <code><a href="../Exception.html">Exception</a></code> or <code>String</code> object.</p>
<pre><code class="language-crystal"><span class="k">begin</span>
  <span class="c"># ...</span>
<span class="k">rescue</span> ex
  <span class="t">Raven</span>.capture ex
<span class="k">end</span>

<span class="t">Raven</span>.capture <span class="s">&quot;boo!&quot;</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/78ab46f/src/raven/instance.cr#L179" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="capture(**options,&amp;)-instance-method">
      <div class="signature">
        
        def <strong>capture</strong>(**options, &)

        <a class="method-permalink" href="#capture%28%2A%2Aoptions%2C%26%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Capture and process any exceptions from the given block.</p>
<pre><code class="language-crystal"><span class="t">Raven</span>.capture <span class="k">do</span>
  <span class="t">MyApp</span>.run
<span class="k">end</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/78ab46f/src/raven/instance.cr#L222" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="captured_exception?(ex:Exception)-instance-method">
      <div class="signature">
        
        def <strong>captured_exception?</strong>(ex : <a href="../Exception.html">Exception</a>)

        <a class="method-permalink" href="#captured_exception%3F%28ex%3AException%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns <code>true</code> in case given <em>ex</em> was already captured,
<code>false</code> otherwise.</p>
<pre><code class="language-crystal">ex <span class="o">=</span> <span class="t">Exception</span>.new(<span class="s">&quot;boo!&quot;</span>)

<span class="t">Raven</span>.captured_exception?(ex) <span class="c"># =&gt; false</span>
<span class="t">Raven</span>.capture(ex)
<span class="t">Raven</span>.captured_exception?(ex) <span class="c"># =&gt; true</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/78ab46f/src/raven/instance.cr#L269" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="client:Client-instance-method">
      <div class="signature">
        
        def <strong>client</strong> : <a href="../Raven/Client.html">Client</a>

        <a class="method-permalink" href="#client%3AClient-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>The client object is responsible for delivering formatted data to the
Sentry server.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/78ab46f/src/raven/instance.cr#L30" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="client=(client:Client)-instance-method">
      <div class="signature">
        
        def <strong>client=</strong>(client : <a href="../Raven/Client.html">Client</a>)

        <a class="method-permalink" href="#client%3D%28client%3AClient%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>The client object is responsible for delivering formatted data to the
Sentry server.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/78ab46f/src/raven/instance.cr#L30" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="configuration:Configuration-instance-method">
      <div class="signature">
        
        def <strong>configuration</strong> : <a href="../Raven/Configuration.html">Configuration</a>

        <a class="method-permalink" href="#configuration%3AConfiguration-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>See <code><a href="../Raven/Configuration.html">Raven::Configuration</a></code>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/78ab46f/src/raven/instance.cr#L26" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="configuration=(configuration:Configuration)-instance-method">
      <div class="signature">
        
        def <strong>configuration=</strong>(configuration : <a href="../Raven/Configuration.html">Configuration</a>)

        <a class="method-permalink" href="#configuration%3D%28configuration%3AConfiguration%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>See <code><a href="../Raven/Configuration.html">Raven::Configuration</a></code>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/78ab46f/src/raven/instance.cr#L26" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="configure-instance-method">
      <div class="signature">
        
        def <strong>configure</strong>

        <a class="method-permalink" href="#configure-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Call this method to modify defaults in your initializers.</p>
<pre><code class="language-crystal"><span class="t">Raven</span>.configure <span class="k">do</span> <span class="o">|</span>config<span class="o">|</span>
  config.dsn <span class="o">=</span> <span class="s">&quot;http://...&quot;</span>
<span class="k">end</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/78ab46f/src/raven/instance.cr#L67" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="configure(&amp;)-instance-method">
      <div class="signature">
        
        def <strong>configure</strong>(&)

        <a class="method-permalink" href="#configure%28%26%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Call this method to modify defaults in your initializers.</p>
<pre><code class="language-crystal"><span class="t">Raven</span>.configure <span class="k">do</span> <span class="o">|</span>config<span class="o">|</span>
  config.dsn <span class="o">=</span> <span class="s">&quot;http://...&quot;</span>
<span class="k">end</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/78ab46f/src/raven/instance.cr#L72" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="context-instance-method">
      <div class="signature">
        
        def <strong>context</strong>

        <a class="method-permalink" href="#context-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/78ab46f/src/raven/instance.cr#L40" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="extra_context(hash=nil,**options)-instance-method">
      <div class="signature">
        
        def <strong>extra_context</strong>(hash = <span class="n">nil</span>, **options)

        <a class="method-permalink" href="#extra_context%28hash%3Dnil%2C%2A%2Aoptions%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Bind extra context. Merges with existing context (if any).</p>
<p>Extra context shows up as <em>Additional Data</em> within Sentry,
and is completely arbitrary.</p>
<pre><code class="language-crystal"><span class="t">Raven</span>.extra_context(my_custom_data: <span class="s">&quot;value&quot;</span>)</code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/78ab46f/src/raven/instance.cr#L305" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="extra_context(hash=nil,**options,&amp;)-instance-method">
      <div class="signature">
        
        def <strong>extra_context</strong>(hash = <span class="n">nil</span>, **options, &)

        <a class="method-permalink" href="#extra_context%28hash%3Dnil%2C%2A%2Aoptions%2C%26%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Bind extra context.
Merges with existing context (if any).</p>
<p>See <code><a href="../Raven/Instance.html#extra_context%28hash%3Dnil%2C%2A%2Aoptions%29-instance-method">#extra_context</a></code></p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/78ab46f/src/raven/instance.cr#L309" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="last_event_id-instance-method">
      <div class="signature">
        
        def <strong>last_event_id</strong>

        <a class="method-permalink" href="#last_event_id-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/78ab46f/src/raven/instance.cr#L116" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="report_status-instance-method">
      <div class="signature">
        
        def <strong>report_status</strong>

        <a class="method-permalink" href="#report_status-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Tell the log that the client is good to go.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/78ab46f/src/raven/instance.cr#L49" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="send_event(event,hint=nil)-instance-method">
      <div class="signature">
        
        def <strong>send_event</strong>(event, hint = <span class="n">nil</span>)

        <a class="method-permalink" href="#send_event%28event%2Chint%3Dnil%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Send an event to the configured Sentry server.</p>
<pre><code class="language-crystal">event <span class="o">=</span> <span class="t">Raven</span><span class="t">::</span><span class="t">Event</span>.new(message: <span class="s">&quot;An error&quot;</span>)
<span class="t">Raven</span>.send_event(event)</code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/78ab46f/src/raven/instance.cr#L109" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="send_feedback(event_id:String,data:Hash)-instance-method">
      <div class="signature">
        
        def <strong>send_feedback</strong>(event_id : String, data : Hash)

        <a class="method-permalink" href="#send_feedback%28event_id%3AString%2Cdata%3AHash%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Sends User Feedback to Sentry server.</p>
<p><em>data</em> should be a <code>Hash(String, String)</code> with following keys:</p>
<ul>
<li><em>name</em> (populated from <code>context.user[:username]</code> if left empty)</li>
<li><em>email</em> (populated from <code>context.user[:email]</code> if left empty)</li>
<li><em>comments</em></li>
</ul>
<pre><code class="language-crystal"><span class="t">Raven</span>.send_feedback(<span class="t">Raven</span>.last_event_id, {
  <span class="s">&quot;name&quot;</span>     <span class="o">=&gt;</span> <span class="s">&quot;...&quot;</span>,
  <span class="s">&quot;email&quot;</span>    <span class="o">=&gt;</span> <span class="s">&quot;...&quot;</span>,
  <span class="s">&quot;comments&quot;</span> <span class="o">=&gt;</span> <span class="s">&quot;...&quot;</span>,
})</code></pre>
<p><span class="flag purple">NOTE</span>  Sentry server records single (last) feedback for a given <em>event_id</em>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/78ab46f/src/raven/instance.cr#L93" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="tags_context(hash=nil,**options)-instance-method">
      <div class="signature">
        
        def <strong>tags_context</strong>(hash = <span class="n">nil</span>, **options)

        <a class="method-permalink" href="#tags_context%28hash%3Dnil%2C%2A%2Aoptions%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Bind tags context. Merges with existing context (if any).</p>
<p>Tags are key / value pairs which generally represent things like
application version, environment, role, and server names.</p>
<pre><code class="language-crystal"><span class="t">Raven</span>.tags_context(my_custom_tag: <span class="s">&quot;tag_value&quot;</span>)</code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/78ab46f/src/raven/instance.cr#L293" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="tags_context(hash=nil,**options,&amp;)-instance-method">
      <div class="signature">
        
        def <strong>tags_context</strong>(hash = <span class="n">nil</span>, **options, &)

        <a class="method-permalink" href="#tags_context%28hash%3Dnil%2C%2A%2Aoptions%2C%26%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Bind tags context.
Merges with existing context (if any).</p>
<p>See <code><a href="../Raven/Instance.html#tags_context%28hash%3Dnil%2C%2A%2Aoptions%29-instance-method">#tags_context</a></code></p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/78ab46f/src/raven/instance.cr#L309" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="user_context(hash=nil,**options)-instance-method">
      <div class="signature">
        
        def <strong>user_context</strong>(hash = <span class="n">nil</span>, **options)

        <a class="method-permalink" href="#user_context%28hash%3Dnil%2C%2A%2Aoptions%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Bind user context. Merges with existing context (if any).</p>
<p>It is recommending that you send at least the <code>:id</code> and <code>:email</code>
values. All other values are arbitrary.</p>
<pre><code class="language-crystal"><span class="t">Raven</span>.user_context(id: <span class="n">1</span>, email: <span class="s">&quot;foo@example.com&quot;</span>)</code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/78ab46f/src/raven/instance.cr#L281" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="user_context(hash=nil,**options,&amp;)-instance-method">
      <div class="signature">
        
        def <strong>user_context</strong>(hash = <span class="n">nil</span>, **options, &)

        <a class="method-permalink" href="#user_context%28hash%3Dnil%2C%2A%2Aoptions%2C%26%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Bind user context.
Merges with existing context (if any).</p>
<p>See <code><a href="../Raven/Instance.html#user_context%28hash%3Dnil%2C%2A%2Aoptions%29-instance-method">#user_context</a></code></p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/Sija/raven.cr/blob/78ab46f/src/raven/instance.cr#L309" target="_blank">View source</a>]
        
      </div>
    </div>
  




</div>

</body>
</html>
